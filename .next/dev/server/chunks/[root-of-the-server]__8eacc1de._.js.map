{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///C:/web-development-2/todo-app-nexti/lib/db.js"],"sourcesContent":["import mongoose from 'mongoose';\n\n// Replace the dummy URI below with your real MongoDB connection string.\n// Keep your original collection names (users, todos).\nconst MONGO_URI = process.env.MONGODB_URI;\n\nlet cached = global.mongoose;\nif (!cached) cached = global.mongoose = { conn: null, promise: null };\n\nexport async function connectDB(){\n  if (cached.conn) return cached.conn;\n  if (!cached.promise) {\n    cached.promise = mongoose.connect(MONGO_URI).then(m=>m);\n  }\n  cached.conn = await cached.promise;\n  console.log('âœ… MongoDB connected (direct URI)');\n  return cached.conn;\n}\n\nconst UserSchema = new mongoose.Schema({\n  email: { type: String, unique: true, required: true },\n  password: { type: String, required: true },\n});\n\nconst TodoSchema = new mongoose.Schema({\n  titles: String,\n  userId: { type: mongoose.Schema.Types.ObjectId, ref: 'users' },\n});\n\nexport const User = mongoose.models.users || mongoose.model('users', UserSchema);\nexport const Todo = mongoose.models.todos || mongoose.model('todos', TodoSchema);\n"],"names":[],"mappings":";;;;;;;;AAAA;;AAEA,wEAAwE;AACxE,sDAAsD;AACtD,MAAM,YAAY,QAAQ,GAAG,CAAC,WAAW;AAEzC,IAAI,SAAS,yDAAO,QAAQ;AAC5B,IAAI,CAAC,QAAQ,SAAS,yDAAO,QAAQ,GAAG;IAAE,MAAM;IAAM,SAAS;AAAK;AAE7D,eAAe;IACpB,IAAI,OAAO,IAAI,EAAE,OAAO,OAAO,IAAI;IACnC,IAAI,CAAC,OAAO,OAAO,EAAE;QACnB,OAAO,OAAO,GAAG,oHAAQ,CAAC,OAAO,CAAC,WAAW,IAAI,CAAC,CAAA,IAAG;IACvD;IACA,OAAO,IAAI,GAAG,MAAM,OAAO,OAAO;IAClC,QAAQ,GAAG,CAAC;IACZ,OAAO,OAAO,IAAI;AACpB;AAEA,MAAM,aAAa,IAAI,oHAAQ,CAAC,MAAM,CAAC;IACrC,OAAO;QAAE,MAAM;QAAQ,QAAQ;QAAM,UAAU;IAAK;IACpD,UAAU;QAAE,MAAM;QAAQ,UAAU;IAAK;AAC3C;AAEA,MAAM,aAAa,IAAI,oHAAQ,CAAC,MAAM,CAAC;IACrC,QAAQ;IACR,QAAQ;QAAE,MAAM,oHAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,QAAQ;QAAE,KAAK;IAAQ;AAC/D;AAEO,MAAM,OAAO,oHAAQ,CAAC,MAAM,CAAC,KAAK,IAAI,oHAAQ,CAAC,KAAK,CAAC,SAAS;AAC9D,MAAM,OAAO,oHAAQ,CAAC,MAAM,CAAC,KAAK,IAAI,oHAAQ,CAAC,KAAK,CAAC,SAAS"}},
    {"offset": {"line": 121, "column": 0}, "map": {"version":3,"sources":["file:///C:/web-development-2/todo-app-nexti/app/api/addTodo/route.js"],"sourcesContent":["import { connectDB, User, Todo } from '../../../lib/db.js';\n\nimport jwt from 'jsonwebtoken';\nconst JWT_SECRET = 'devsecret';\n\nexport async function POST(req){\n  await connectDB();\n  const { token, title } = await req.json();\n  if(!token) return new Response(JSON.stringify({ message: 'No token' }), { status: 401 });\n  try {\n    const data = jwt.verify(token, JWT_SECRET);\n    const user = await User.findById(data.id);\n    if(!user) return new Response(JSON.stringify({ message: 'User not found' }), { status: 404 });\n    await Todo.create({ titles: title, userId: user._id });\n    return new Response(JSON.stringify({ message: 'Created' }), { status: 201 });\n  } catch(e){\n    return new Response(JSON.stringify({ message: 'Invalid token' }), { status: 401 });\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;AACA,MAAM,aAAa;AAEZ,eAAe,KAAK,GAAG;IAC5B,MAAM,IAAA,wHAAS;IACf,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,GAAG,MAAM,IAAI,IAAI;IACvC,IAAG,CAAC,OAAO,OAAO,IAAI,SAAS,KAAK,SAAS,CAAC;QAAE,SAAS;IAAW,IAAI;QAAE,QAAQ;IAAI;IACtF,IAAI;QACF,MAAM,OAAO,kJAAG,CAAC,MAAM,CAAC,OAAO;QAC/B,MAAM,OAAO,MAAM,mHAAI,CAAC,QAAQ,CAAC,KAAK,EAAE;QACxC,IAAG,CAAC,MAAM,OAAO,IAAI,SAAS,KAAK,SAAS,CAAC;YAAE,SAAS;QAAiB,IAAI;YAAE,QAAQ;QAAI;QAC3F,MAAM,mHAAI,CAAC,MAAM,CAAC;YAAE,QAAQ;YAAO,QAAQ,KAAK,GAAG;QAAC;QACpD,OAAO,IAAI,SAAS,KAAK,SAAS,CAAC;YAAE,SAAS;QAAU,IAAI;YAAE,QAAQ;QAAI;IAC5E,EAAE,OAAM,GAAE;QACR,OAAO,IAAI,SAAS,KAAK,SAAS,CAAC;YAAE,SAAS;QAAgB,IAAI;YAAE,QAAQ;QAAI;IAClF;AACF"}}]
}